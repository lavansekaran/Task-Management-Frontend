<app-navbar></app-navbar>
<section class="taskSection">
  <div class="container-fluid mt-4">
    <div class="card tabCard">
      <div class="row">
        <div class="col-12">
          <div class="card-header">
            <div class="row align-items-center">
              <div class="col-md-6 col-sm-12 mb-2 mb-md-0">
                <h3 class="heading">Task Overview</h3>
              </div>
              <div class="col-md-6 col-sm-12 d-flex justify-content-md-end justify-content-center">
                <button class="btn btn-primary" (click)="addNewTask()"><i class="fa-solid fa-circle-plus me-1"></i>Add
                  Task</button>
              </div>
            </div>

            <!-- Tab Section -->
            <nav class="commonTabSection">
              <div class="nav nav-tabs" id="nav-tab" role="tablist">
                <li class="nav-link active" id="nav-all-tab" data-bs-toggle="tab" data-bs-target="#nav-all"
                  type="button" role="tab" aria-controls="nav-all" aria-selected="true">All Tasks<span class="badge bg-primary ms-1">{{tasks.length}}</span></li>
                <li class="nav-link" id="nav-inprogress-tab" data-bs-toggle="tab" data-bs-target="#nav-inprogress"
                  type="button" role="tab" aria-controls="nav-inprogress" aria-selected="false">In-progress<span class="badge bg-primary ms-1">{{inprogressTask.length}}</span></li>
                <li class="nav-link" id="nav-Completed-tab" data-bs-toggle="tab" data-bs-target="#nav-Completed"
                  type="button" role="tab" aria-controls="nav-Completed" aria-selected="false">Completed<span class="badge bg-primary ms-1">{{completedTask.length}}</span></li>
              </div>
            </nav>
            <div class="tab-content" id="nav-tabContent">
              <div class="tab-pane fade show active" id="nav-all" role="tabpanel" aria-labelledby="nav-all-tab">
                <div class="row mt-3">
                  <div class="col-12">
                    <div class="table-responsive">
                      <table *ngIf="tasks.length > 0" class="table table-bordered table-striped">
                        <thead>
                          <tr>
                            <th class="text-nowrap">S.No</th>
                            <th class="text-nowrap">Title</th>
                            <th>Description</th>
                            <th class="text-nowrap">Start Date</th>
                            <th class="text-nowrap">End Date</th>
                            <th class="text-nowrap">Status</th>
                            <th class="text-nowrap">Priority</th>
                            <th class="text-nowrap">Action</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let task of tasks ; let i = index">
                            <td><a style="cursor: pointer;text-decoration:underline;color:blue"
                                (click)="editTask(task)">{{ i + 1 }}</a> </td>
                            <td>{{ task.title }}</td>
                            <td>{{ task.description }}</td>
                            <td>{{ task.startDate | date:'dd-MM-yyyy' }}</td>
                            <td>{{ task.endDate | date:'dd-MM-yyyy' }}</td>
                            <td>{{ task.status }}</td>
                            <td>{{ task.priority }}</td>
                            <td>
                              <i style="cursor: pointer;" (click)="delete(task._id)"
                                class="fa-solid fa-trash-can text-danger"></i>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                      <ng-container *ngIf="tasks.length ===0">
                        <div class="text-center">
                          <span>No Data Found</span>
                        </div>
                      </ng-container>
                    </div>
                  </div>
                </div>
              </div>
              <div class="tab-pane fade" id="nav-inprogress" role="tabpanel" aria-labelledby="nav-inprogress-tab">
                <div class="row mt-3">
                  <div class="col-12">
                    <div class="table-responsive">
                      <table *ngIf="tasks.length > 0" class="table table-bordered table-striped">
                        <thead>
                          <tr>
                            <th class="text-nowrap">S.No</th>
                            <th class="text-nowrap">Title</th>
                            <th>Description</th>
                            <th class="text-nowrap">Start Date</th>
                            <th class="text-nowrap">End Date</th>
                            <th class="text-nowrap">Status</th>
                            <th class="text-nowrap">Priority</th>
                            <th class="text-nowrap">Action</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let task of inprogressTask ; let i = index">
                            <td><a style="cursor: pointer;text-decoration:underline;color:blue"
                                (click)="editTask(task)">{{ i + 1 }}</a> </td>
                            <td>{{ task.title }}</td>
                            <td>{{ task.description }}</td>
                            <td>{{ task.startDate | date:'dd-MM-yyyy' }}</td>
                            <td>{{ task.endDate | date:'dd-MM-yyyy' }}</td>
                            <td>{{ task.status }}</td>
                            <td>{{ task.priority }}</td>
                            <td>
                              <i style="cursor: pointer;" (click)="delete(task._id)"
                                class="fa-solid fa-trash-can text-danger"></i>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                      <ng-container *ngIf="inprogressTask.length ===0">
                        <div class="text-center">
                          <span>No Data Found</span>
                        </div>
                      </ng-container>
                    </div>
                  </div>
                </div>
              </div>
              <div class="tab-pane fade" id="nav-Completed" role="tabpanel" aria-labelledby="nav-Completed-tab">
                <div class="row mt-3">
                  <div class="col-12">
                    <div class="table-responsive">
                      <table *ngIf="tasks.length > 0" class="table table-bordered table-striped">
                        <thead>
                          <tr>
                            <th class="text-nowrap">S.No</th>
                            <th class="text-nowrap">Title</th>
                            <th>Description</th>
                            <th class="text-nowrap">Start Date</th>
                            <th class="text-nowrap">End Date</th>
                            <th class="text-nowrap">Status</th>
                            <th class="text-nowrap">Priority</th>
                            <th class="text-nowrap">Action</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let task of completedTask ; let i = index">
                            <td><a style="cursor: pointer;text-decoration:underline;color:blue"
                                (click)="editTask(task)">{{ i + 1 }}</a> </td>
                            <td>{{ task.title }}</td>
                            <td>{{ task.description }}</td>
                            <td>{{ task.startDate | date:'dd-MM-yyyy' }}</td>
                            <td>{{ task.endDate | date:'dd-MM-yyyy' }}</td>
                            <td>{{ task.status }}</td>
                            <td>{{ task.priority }}</td>
                            <td>
                              <i style="cursor: pointer;" (click)="delete(task._id)"
                                class="fa-solid fa-trash-can text-danger"></i>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                      <ng-container *ngIf="completedTask.length ===0">
                        <div class="text-center">
                          <span>No Data Found</span>
                        </div>
                      </ng-container>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <!-- Task List -->

          </div>
        </div>
      </div>
    </div>
  </div>
</section>